
JSON Web Token（缩写 JWT）常用于授权登陆和信息交换。
# 一 JWT 的原理
JWT 的原理是，服务器认证以后，生成一个 JSON 对象，发回给用户，就像下面这样。

 {
 "姓名": "张三",
 "角色": "管理员",
 "到期时间": "2018年7月1日0点0分"
 }
以后，用户与服务端通信的时候，都要发回这个 JSON 对象。服务器完全只靠这个对象认定用户身份。为了防止用户篡改数据，服务器在生成这个对象的时候，会加上签名。

服务器就不保存任何 session 数据了，也就是说，服务器变成无状态了，从而比较容易实现扩展。

区别：

 (1) session 存储在服务端占用服务器资源，而 JWT 存储在客户端
 (1) session 存储在 Cookie 中，存在伪造跨站请求伪造攻击的风险
 (2) session 只存在一台服务器上，那么下次请求就必须请求这台服务器，不利于分布式应用
 (3) 存储在客户端的 JWT 比存储在服务端的 session 更具有扩展性
 
 # 二 JWT的认证流程图
 流程说明：
 1，浏览器发起请求登陆，携带用户名和密码；
 2，服务端验证身份，根据算法，将用户标识符打包生成 token,
 3，服务器返回JWT信息给浏览器，JWT不包含敏感信息；
 4，浏览器发起请求获取用户资料，把刚刚拿到的 token一起发送给服务器；
 5，服务器发现数据中有 token，验明正身；
 6，服务器返回该用户的用户资料；

# 三 JWT 的数据结构

一个token分3部分，按顺序:

头部（header)
载荷（payload)
签证（signature)
