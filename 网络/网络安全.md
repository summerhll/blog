# 一. XSS
XSS跨站脚本攻击。

攻击者往 web 页面里插入恶意的代码，当用户浏览该页面时，嵌入其中的代码会被执行，造成攻击。

## 类型
### 1.DOM型XSS
```javascript
DOM 型 XSS 的攻击步骤：
1.攻击者构造出特殊的 URL，其中包含恶意代码。
2.用户打开带有恶意代码的 URL。
3.执行恶意代码
4.恶意代码窃取用户数据并发送到攻击者的网站，或者冒充用户的行为，调用目标网站接口执行攻击者指定的操作。
```
### 2.反射型XSS
```javascript
反射型 XSS 的攻击步骤：
1.攻击者构造出特殊的 URL，其中包含恶意代码。
2.用户打开带有恶意代码的 URL 时，网站服务端将恶意代码从 URL 中取出，拼接在 HTML 中返回给浏览器。
3.执行恶意代码。
4.窃取用户数据或者冒充用户的行为。

反射型 XSS 漏洞常见于通过 URL 传递参数的功能，如网站搜索、跳转等。
```
### 3.反射型XSS
```javascript
存储型 XSS 的攻击步骤：
1.攻击者将恶意代码提交到目标网站的数据库中。
2.用户打开目标网站时，网站服务端将恶意代码从数据库取出，拼接在 HTML 中返回给浏览器。
3.用户浏览器接收到响应后解析执行，混在其中的恶意代码也被执行。
4.恶意代码窃取用户数据并发送到攻击者的网站，或者冒充用户的行为，调用目标网站接口执行攻击者指定的操作。

这种攻击常见于带有用户保存数据的网站功能，如论坛发帖、商品评论、用户私信、留言板等。

```

## 解决方案
     1.Vue/React 技术栈，少使用 v-html功能。
     2.httpOnly
     3.验证码
     
# 二.CSRF  
跨站请求伪造

受害者在被攻击网站中已登陆，攻击者诱导受害者进入第三方网站，在第三方网站中，向被攻击网站发送跨站请求。利用受害者在被攻击网站已经获取的注册凭证，绕过后台的用户验证，执行攻击操作。

```javascript
一个典型的CSRF攻击有着如下的流程：
受害者登录 a.com，并保留了登录凭证（Cookie）
攻击者引诱受害者访问了b.com
b.com 向 a.com 发送了一个请求：a.com/act=xx浏览器会默认携带a.com的Cookie
a.com接收到请求后，对请求进行验证，并确认是受害者的凭证，误以为是受害者自己发送的请求
a.com以受害者的名义执行了act=xx
攻击完成，攻击者在受害者不知情的情况下，冒充受害者，让a.com执行了自己定义的操作
 ```
     
## 解决方案
    1. Token，把 Token 以参数的形式加入请求了，提交给服务器的时候，服务器需要判断 Token 的有效性
    2. 同源检测，直接禁止外域（受信域可以开白名单）对我们发起请求
    3. Samesite Cookie属性，Samesite=Strict 只允许同源网站提交请求携带 cookie

